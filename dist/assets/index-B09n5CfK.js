import{r as n,j as e,M as y,X as v,S as w,C as S,a as C,b as L,c as k,R as M,d as E}from"./vendor-CYUN_FLF.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))l(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const d of s.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function a(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(t){if(t.ep)return;t.ep=!0;const s=a(t);fetch(t.href,s)}})();function I({onChapterDataLoaded:i,currentChapterId:o,isDarkMode:a,toggleTheme:l}){const[t,s]=n.useState(!1),[d,f]=n.useState([]),[u,h]=n.useState(""),[m,g]=n.useState(null);n.useEffect(()=>{fetch("/data/bible/books.json").then(r=>r.json()).then(r=>f(r)).catch(r=>console.error("Could not load bible index",r))},[]);const b=async(r,c,x)=>{try{const N=await(await fetch(`/data/bible/${r}/${c}.json`)).json();i(N,x,c,r),window.innerWidth<1024&&s(!1)}catch(p){console.error("Error loading chapter data:",p)}},j=d.filter(r=>r.name.toLowerCase().includes(u.toLowerCase()));return e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>s(!0),className:"lg:hidden fixed top-4 left-4 z-40 p-2 bg-card text-card-foreground rounded-md shadow-md border border-border",children:e.jsx(y,{className:"w-6 h-6"})}),e.jsx("aside",{className:`fixed inset-y-0 left-0 z-50 w-72 bg-sidebar text-sidebar-foreground transform transition-transform duration-300 lg:relative lg:translate-x-0 border-r border-sidebar-border ${t?"translate-x-0":"-translate-x-full"}`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"p-4 flex items-center justify-between",children:[e.jsx("h2",{className:"font-bold text-xl tracking-tight",children:"Holy Bible: King James 1611"}),e.jsx("button",{onClick:()=>s(!1),className:"lg:hidden p-2",children:e.jsx(v,{})})]}),e.jsx("div",{className:"px-4 mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(w,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx("input",{type:"text",placeholder:"Search books...",className:"w-full pl-10 pr-4 py-2 bg-input-background rounded-lg border-none focus:ring-2 focus:ring-primary outline-none text-foreground",value:u,onChange:r=>h(r.target.value)})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto px-2",children:j.map(r=>e.jsxs("div",{className:"mb-1",children:[e.jsxs("button",{onClick:()=>g(m===r.slug?null:r.slug),className:`w-full flex items-center justify-between p-2 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground rounded-lg transition-colors ${m===r.slug?"bg-sidebar-accent":""}`,children:[e.jsx("span",{className:"font-medium text-sm",children:r.name}),m===r.slug?e.jsx(S,{className:"w-4 h-4 opacity-50"}):e.jsx(C,{className:"w-4 h-4 opacity-50"})]}),m===r.slug&&e.jsx("div",{className:"grid grid-cols-5 gap-1 p-2 bg-sidebar-accent/50 rounded-lg mt-1 mx-1",children:Array.from({length:r.chapters},(c,x)=>x+1).map(c=>{const x=o===`${r.slug}-${c}`;return e.jsx("button",{onClick:()=>b(r.slug,c,r.name),className:`aspect-square flex items-center justify-center text-xs rounded border transition-all ${x?"bg-primary text-primary-foreground border-primary font-bold shadow-sm":"bg-background border-border hover:border-primary text-foreground"}`,children:c},c)})})]},r.slug))}),e.jsx("div",{className:"p-4 border-t border-sidebar-border",children:e.jsxs("button",{onClick:l,className:"flex items-center gap-3 w-full p-2.5 hover:bg-sidebar-accent rounded-xl transition-colors text-sm font-medium",children:[a?e.jsx(L,{className:"w-4 h-4 text-orange-400"}):e.jsx(k,{className:"w-4 h-4 text-primary"}),e.jsx("span",{children:a?"Light Mode":"Dark Mode"})]})})]})})]})}function O({verses:i,bookName:o,chapterNum:a}){const l=Object.entries(i).sort((t,s)=>Number(t[0])-Number(s[0]));return l.length===0?e.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground font-serif italic",children:"Select a book and chapter to begin reading"}):e.jsxs("div",{className:"max-w-3xl mx-auto px-6 py-12 md:px-12",children:[e.jsxs("header",{className:"mb-12 border-b border-border pb-8 text-center",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-serif mb-4 tracking-tight text-foreground",children:o}),e.jsxs("h2",{className:"text-xl md:text-2xl font-serif text-muted-foreground uppercase tracking-widest",children:["Chapter ",a]})]}),e.jsx("div",{className:"space-y-6",children:l.map(([t,s])=>e.jsx("p",{className:"text-lg md:text-xl leading-relaxed font-serif text-foreground/90",dangerouslySetInnerHTML:{__html:s}},t))}),e.jsx("div",{className:"h-24"})]})}function $(){const[i,o]=n.useState({}),[a,l]=n.useState(null),[t,s]=n.useState(()=>localStorage.getItem("theme")==="dark"||!localStorage.getItem("theme")&&window.matchMedia("(prefers-color-scheme: dark)").matches);n.useEffect(()=>{t?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[t]);const d=n.useCallback(()=>{s(u=>!u)},[]),f=(u,h,m,g)=>{o(u),l({bookName:h,chapterNum:m,slug:g})};return e.jsxs("div",{className:"flex h-screen w-full overflow-hidden bg-background text-foreground transition-colors duration-300",children:[e.jsx(I,{onChapterDataLoaded:f,currentChapterId:a?`${a.slug}-${a.chapterNum}`:void 0,isDarkMode:t,toggleTheme:d}),e.jsx("main",{className:"flex-1 relative overflow-y-auto",children:e.jsx(O,{verses:i,bookName:a==null?void 0:a.bookName,chapterNum:a==null?void 0:a.chapterNum})})]})}M.createRoot(document.getElementById("root")).render(e.jsx(E.StrictMode,{children:e.jsx($,{})}));
